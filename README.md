<h3 align="center">Тестовый проект для платы STM32 BluePill (микроконтроллер STM32F103C8T6)</h3>
<h4 align="center">Общий вид стенда для проверки проекта: </h4>

![Stend](https://github.com/user-attachments/assets/17c2b375-88e8-40fc-9733-bd75e5d7efd1)

          В состав стенда входят:
          - Плата STM32 BluePill
          - Блок потенциометров(5 шт), подключенный крайними выводами к GND, 3.3V платы
          - Дисплей 1602 на микросхеме HD44780
          - USB логический анализатор Saleae 24M 8CH
          - USB-Serial TTL UART адаптер CH340G
  <h4 align="center"> ВАЖНО!!! После прошивки микроконтроллера, питание платы осуществляется через usb-кабель, 
          потому что LCD1602 питается от контакта 5V на плате.</h4>
<h4 align="center"> ----- </h4>
<h4 align="center">  Выполняет 4 пункта задания: </h4>   

1. К пинам PB14, PB15 подключены кнопки с подтяжкой к питанию. Они постоянно опрашиваются с помощью Таймера1(10мс). 
   Применён алгоритм "антидребезга" кнопок, основанный на сдвиговом регистре. Нажатие или отпускание любой кнопки сопровождается выводом сообщения по UART.
2. Непрерывно (асинхронно) идет чтение 6 каналов АЦП(5 входов + встроенный температурный датчик), с усреднением на 50 значений.
   Частота семплирования - 10кГц.
   Сигналом запуска является Таймер3(100мкс). Данные опрашиваются через DMA в кольцевой буфер, расчитанный на 100 наборов значений.
   Прерывания срабатывают по половине заполнения буфера и по полному заполнению. В обработчике прерывания происходит усреднение 50 значений.
   Каждую секунду строка с усреднёнными значениями температуры и напряжения на 5 каналах выводятся в строку по UART.
3. Канал ШИМ TIM2_CH3(PB10) использует значение скважности, равное усреднённому значению на 1 канале АЦП.
4. Усреднённые значения с температурного датчика и первых 2 каналов АЦП выводятся на LCD1602 в 1 строке
   Усреднённые значения с последних 3 каналов АЦП выводятся во 2 строке.
   Обновление данных на дисплее каждые 500мс.
  <h4 align="center"> ----- </h4>
   Вывод терминальной программы, подключенной к UART микроконтроллера. Каждую секунду появляется новая строка значений.
   Видно как одиночные нажатия на кнопки по отдельности, так и двойное нажатие на обе кнопки сразу.
<img width="546" height="435" alt="image" src="https://github.com/user-attachments/assets/1433d994-87e3-42f5-8bed-651e8f4db249" />
  <h4 align="center"> ----- </h4>
  Шинным анализатором отслеживаются моменты срабатывания Таймеров, ШИМ, моменты вызова DMA прерываний для усреднения данных.
  Здесь скважность ШИМ около 30% (значение на U1 = 1V)
<img width="1212" height="793" alt="image" src="https://github.com/user-attachments/assets/34eb2767-acd2-4428-8183-348cb8ed1627" />

